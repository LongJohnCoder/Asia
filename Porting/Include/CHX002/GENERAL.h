/*******************************************************************************
Copyright(C) 2015 ZX Technologies, Inc. All Rights Reserved.

\file General.h
\brief General definitions for CHX002.
\author Tiger liu
\date 2017-05-17

Modification History:
*******************************************************************************/
////
#include "RegCommon.h"

// NB BUS/DEV/FUN
#define CHX002_HB_BUS 0
    #define CHX002_HB_DEV 0
        #define CHX002_GFXAX_FUN 0
        #define CHX002_ERRC_FUN 1
        #define CHX002_HIF_FUN 2
        #define CHX002_DRAM_FUN 3
        #define CHX002_NPMC_FUN 4
        #define CHX002_APIC_FUN 5
        #define CHX002_SCRCH_FUN 6
        #define CHX002_PEPHY_FUN 7
    #define CHX002_EUMA_DEV 1
        #define CHX002_EUMA_FUN 0
        #define CHX002_S3AC_FUN 1


	
    #define CHX002_PE0_3_DEV 3
	    #define CHX002_PE0_FUN 0
		#define CHX002_PE1_FUN 1
		#define CHX002_PE2_FUN 2
		#define CHX002_PE3_FUN 3
	#define CHX002_PE4_5_DEV 4
		#define CHX002_PE4_FUN 0
		#define CHX002_PE5_FUN 1
	#define CHX002_PE6_7_DEV 5
		#define CHX002_PE6_FUN 0
		#define CHX002_PE7_FUN 1

	#define CHX002_VPI_DEV 7
		#define CHX002_VPI_FUN 0
		
	#define CHX002_RAIDA0_DEV 8
	    #define CHX002_RAIDA0_FUN 0
	#define CHX002_RAIDA1_DEV 9
	    #define CHX002_RAIDA1_FUN 0
		
#define CHX002_GFXAX ASIA_PCI_ADDRESS(CHX002_HB_BUS, CHX002_HB_DEV, CHX002_GFXAX_FUN, 0) // D0F0
#define CHX002_ERRC ASIA_PCI_ADDRESS(CHX002_HB_BUS, CHX002_HB_DEV, CHX002_ERRC_FUN, 0) // D0F1
#define CHX002_HIF ASIA_PCI_ADDRESS(CHX002_HB_BUS, CHX002_HB_DEV, CHX002_HIF_FUN, 0) // D0F2
#define CHX002_DRAM ASIA_PCI_ADDRESS(CHX002_HB_BUS, CHX002_HB_DEV, CHX002_DRAM_FUN, 0) // D0F3
///
#define CHX002_NPMC ASIA_PCI_ADDRESS(CHX002_HB_BUS, CHX002_HB_DEV, CHX002_NPMC_FUN, 0) // D0F4
#define CHX002_APIC ASIA_PCI_ADDRESS(CHX002_HB_BUS, CHX002_HB_DEV, CHX002_APIC_FUN, 0) // D0F5
#define CHX002_SCRCH ASIA_PCI_ADDRESS(CHX002_HB_BUS, CHX002_HB_DEV, CHX002_SCRCH_FUN, 0) // D0F6
////
#define CHX002_PEPHY ASIA_PCI_ADDRESS(CHX002_HB_BUS, CHX002_HB_DEV, CHX002_PEPHY_FUN, 0) // D0F7
#define CHX002_EUMA ASIA_PCI_ADDRESS(CHX002_HB_BUS, CHX002_EUMA_DEV, CHX002_EUMA_FUN, 0) // D1F0
#define CHX002_S3AC ASIA_PCI_ADDRESS(CHX002_HB_BUS, CHX002_EUMA_DEV, CHX002_S3AC_FUN, 0) // D1F1
////
#define CHX002_PE0 ASIA_PCI_ADDRESS(CHX002_HB_BUS, CHX002_PE0_3_DEV, CHX002_PE0_FUN, 0) // D3F0
#define CHX002_PE1 ASIA_PCI_ADDRESS(CHX002_HB_BUS, CHX002_PE0_3_DEV, CHX002_PE1_FUN, 0) // D3F1
#define CHX002_PE2 ASIA_PCI_ADDRESS(CHX002_HB_BUS, CHX002_PE0_3_DEV, CHX002_PE2_FUN, 0) // D3F2
#define CHX002_PE3 ASIA_PCI_ADDRESS(CHX002_HB_BUS, CHX002_PE0_3_DEV, CHX002_PE3_FUN, 0) // D3F3
#define CHX002_PE4 ASIA_PCI_ADDRESS(CHX002_HB_BUS, CHX002_PE4_5_DEV, CHX002_PE4_FUN, 0) // D4F0
#define CHX002_PE5 ASIA_PCI_ADDRESS(CHX002_HB_BUS, CHX002_PE4_5_DEV, CHX002_PE5_FUN, 0) // D4F1
#define CHX002_PE6 ASIA_PCI_ADDRESS(CHX002_HB_BUS, CHX002_PE6_7_DEV, CHX002_PE6_FUN, 0) // D5F0
#define CHX002_PE7 ASIA_PCI_ADDRESS(CHX002_HB_BUS, CHX002_PE6_7_DEV, CHX002_PE7_FUN, 0) // D5F1

#define CHX002_VPI ASIA_PCI_ADDRESS(CHX002_HB_BUS, CHX002_VPI_DEV, CHX002_VPI_FUN, 0) // D7F0

#define CHX002_RAIDA0 ASIA_PCI_ADDRESS(CHX002_HB_BUS, CHX002_RAIDA0_DEV, 0, 0) // D8F0
#define CHX002_RAIDA1 ASIA_PCI_ADDRESS(CHX002_HB_BUS, CHX002_RAIDA1_DEV, 0, 0) // D9F0

#ifdef ZX_DUALSOCKET	
//#if 1

#define CHX002_SLAVE_BUS SLAVE_SK_BUS_NUM
    #define CHX002_SLAVE_DEV 0
        #define CHX002_GFXAX_SLAVE_FUN 0
        #define CHX002_ERRC_SLAVE_FUN 1
        #define CHX002_HIF_SLAVE_FUN 2
        #define CHX002_DRAM_SLAVE_FUN 3
        #define CHX002_NPMC_SLAVE_FUN 4
        #define CHX002_APIC_SLAVE_FUN 5
        #define CHX002_SCRCH_SLAVE_FUN 6
        #define CHX002_PEPHY_SLAVE_FUN 7
    #define CHX002_EUMA_SLAVE_DEV 1
        #define CHX002_EUMA_SLAVE_FUN 0
        #define CHX002_S3AC_SLAVE_FUN 1


	
    #define CHX002_PE0_SLAVE_3_DEV 3
	    #define CHX002_PE0_SLAVE_FUN 0
		#define CHX002_PE1_SLAVE_FUN 1
		#define CHX002_PE2_SLAVE_FUN 2
		#define CHX002_PE3_SLAVE_FUN 3
	#define CHX002_PE4_SLAVE_5_DEV 4
		#define CHX002_PE4_SLAVE_FUN 0
		#define CHX002_PE5_SLAVE_FUN 1
	#define CHX002_PE6_SLAVE_7_DEV 5
		#define CHX002_PE6_SLAVE_FUN 0
		#define CHX002_PE7_SLAVE_FUN 1

	#define CHX002_VPI_SLAVE_DEV 7
		#define CHX002_VPI_SLAVE_FUN 0
		
//	#define CHX002_RAIDA0_SLAVE_DEV 8
//	    #define CHX002_RAIDA0_SLAVE_FUN 0
//	#define CHX002_RAIDA1_SLAVE_DEV 9
//	    #define CHX002_RAIDA1_SLAVE_FUN 0
		
#define CHX002_GFXAX_SLAVE ASIA_PCI_ADDRESS(CHX002_SLAVE_BUS, CHX002_SLAVE_DEV, CHX002_GFXAX_SLAVE_FUN, 0) // D0F0
#define CHX002_ERRC_SLAVE ASIA_PCI_ADDRESS(CHX002_SLAVE_BUS, CHX002_SLAVE_DEV, CHX002_ERRC_SLAVE_FUN, 0) // D0F1
//#define CHX002_HIF_SLAVE ASIA_PCI_ADDRESS(CHX002_SLAVE_BUS, CHX002_SLAVE_DEV, CHX002_HIF_SLAVE_FUN, 0) // D0F2
//#define CHX002_DRAM_SLAVE ASIA_PCI_ADDRESS(CHX002_SLAVE_BUS, CHX002_SLAVE_DEV, CHX002_DRAM_SLAVE_FUN, 0) // D0F3
///
#define CHX002_NPMC_SLAVE ASIA_PCI_ADDRESS(CHX002_SLAVE_BUS, CHX002_SLAVE_DEV, CHX002_NPMC_SLAVE_FUN, 0) // D0F4
#define CHX002_APIC_SLAVE ASIA_PCI_ADDRESS(CHX002_SLAVE_BUS, CHX002_SLAVE_DEV, CHX002_APIC_SLAVE_FUN, 0) // D0F5
#define CHX002_SCRCH_SLAVE ASIA_PCI_ADDRESS(CHX002_SLAVE_BUS, CHX002_SLAVE_DEV, CHX002_SCRCH_SLAVE_FUN, 0) // D0F6
////
#define CHX002_PEPHY_SLAVE ASIA_PCI_ADDRESS(CHX002_SLAVE_BUS, CHX002_SLAVE_DEV, CHX002_PEPHY_SLAVE_FUN, 0) // D0F7
#define CHX002_EUMA_SLAVE ASIA_PCI_ADDRESS(CHX002_SLAVE_BUS, CHX002_EUMA_SLAVE_DEV, CHX002_EUMA_SLAVE_FUN, 0) // D1F0
#define CHX002_S3AC_SLAVE ASIA_PCI_ADDRESS(CHX002_SLAVE_BUS, CHX002_EUMA_SLAVE_DEV, CHX002_S3AC_SLAVE_FUN, 0) // D1F1
////
//#define CHX002_PE0_SLAVE ASIA_PCI_ADDRESS(CHX002_SLAVE_BUS, CHX002_PE0_SLAVE_3_DEV, CHX002_PE0_SLAVE_FUN, 0) // D3F0
//#define CHX002_PE1_SLAVE ASIA_PCI_ADDRESS(CHX002_SLAVE_BUS, CHX002_PE0_SLAVE_3_DEV, CHX002_PE1_SLAVE_FUN, 0) // D3F1
//#define CHX002_PE2_SLAVE ASIA_PCI_ADDRESS(CHX002_SLAVE_BUS, CHX002_PE0_SLAVE_3_DEV, CHX002_PE2_SLAVE_FUN, 0) // D3F2
//#define CHX002_PE3_SLAVE ASIA_PCI_ADDRESS(CHX002_SLAVE_BUS, CHX002_PE0_SLAVE_3_DEV, CHX002_PE3_SLAVE_FUN, 0) // D3F3
//#define CHX002_PE4_SLAVE ASIA_PCI_ADDRESS(CHX002_SLAVE_BUS, CHX002_PE4_SLAVE_5_DEV, CHX002_PE4_SLAVE_FUN, 0) // D4F0
//#define CHX002_PE5_SLAVE ASIA_PCI_ADDRESS(CHX002_SLAVE_BUS, CHX002_PE4_SLAVE_5_DEV, CHX002_PE5_SLAVE_FUN, 0) // D4F1
//#define CHX002_PE6_SLAVE ASIA_PCI_ADDRESS(CHX002_SLAVE_BUS, CHX002_PE6_SLAVE_7_DEV, CHX002_PE6_SLAVE_FUN, 0) // D5F0
//#define CHX002_PE7_SLAVE ASIA_PCI_ADDRESS(CHX002_SLAVE_BUS, CHX002_PE6_SLAVE_7_DEV, CHX002_PE7_SLAVE_FUN, 0) // D5F1

#define CHX002_VPI_SLAVE ASIA_PCI_ADDRESS(CHX002_SLAVE_BUS, CHX002_VPI_SLAVE_DEV, CHX002_VPI_SLAVE_FUN, 0) // D7F0

//#define CHX002_RAIDA0_SLAVE ASIA_PCI_ADDRESS(CHX002_SLAVE_BUS, CHX002_RAIDA0_SLAVE_DEV, 0, 0) // D8F0
//#define CHX002_RAIDA1_SLAVE ASIA_PCI_ADDRESS(CHX002_SLAVE_BUS, CHX002_RAIDA1_SLAVE_DEV, 0, 0) // D9F0


#endif

//some NB device ID
#define NB_VID                    0x1106
#define NB_HIF_DID                0x31B1
#define NB_DRAM_DID               0x31B2
#define NB_IGD_DID                0x3A01

// SB BUS/DEV/FUN
    #define CHX002_UART_DEV 10
	    #define CHX002_UART0_FUN 0
		#define CHX002_UART1_FUN 1
		#define CHX002_UART2_FUN 2
		#define CHX002_UART3_FUN 3
		
	#define CHX002_ESPI_DEV 11		//HYL-20160501	
	    #define CHX002_ESPI_FUN 0
    #define CHX002_CR_DEV 13
	#define CHX002_UHCI0_DEV 14
	#define CHX002_UHCI1_DEV 16
	#define CHX002_EHCI0_DEV 14
	#define CHX002_EHCI1_DEV 16
    #define CHX002_XHCI_DEV 18
    #define CHX002_SATA_DEV 15
    #define CHX002_BUSC_DEV 17
        #define CHX002_BUSC_FUN 0
        #define CHX002_PCCA_FUN 7
    #define CHX002_P2PB_DEV 19
        #define CHX002_P2PB_FUN 0
    #define CHX002_HDAC_DEV 20
         #define CHX002_HDAC_FUN 0
#define CHX002_UART0 ASIA_PCI_ADDRESS(0, CHX002_UART_DEV, 0, 0) // D10F0
#define CHX002_UART1 ASIA_PCI_ADDRESS(0, CHX002_UART_DEV, 1, 0) // D10F1
#define CHX002_UART2 ASIA_PCI_ADDRESS(0, CHX002_UART_DEV, 2, 0) // D10F2
#define CHX002_UART3 ASIA_PCI_ADDRESS(0, CHX002_UART_DEV, 3, 0) // D10F3
///
#define CHX002_ESPI ASIA_PCI_ADDRESS(0, CHX002_ESPI_DEV, 0, 0) // D11F0		//HYL-20160501
#define CHX002_SDCR ASIA_PCI_ADDRESS(0, CHX002_CR_DEV, 0, 0) // D13F0
#define CHX002_MSCR ASIA_PCI_ADDRESS(0, CHX002_CR_DEV, 1, 0) // D13F1
#define CHX002_BUSC ASIA_PCI_ADDRESS(0, CHX002_BUSC_DEV, 0, 0) // D17F0
#define CHX002_PCCA ASIA_PCI_ADDRESS(0, CHX002_BUSC_DEV, 7, 0) // D17F7
#define CHX002_P2PB ASIA_PCI_ADDRESS(0, CHX002_P2PB_DEV, 0, 0) // D19F0
#define CHX002_HDAC ASIA_PCI_ADDRESS(0, CHX002_HDAC_DEV, 0, 0) // D20F0
#define CHX002_SATA ASIA_PCI_ADDRESS(0, CHX002_SATA_DEV, 0, 0)

#define CHX002_D14F0UHCI ASIA_PCI_ADDRESS(0, CHX002_UHCI0_DEV, 0, 0)//D14F0
#define CHX002_D14F7EHCI ASIA_PCI_ADDRESS(0, CHX002_EHCI0_DEV, 7, 0)//D14F7
#define CHX002_D16F0UHCI ASIA_PCI_ADDRESS(0, CHX002_UHCI1_DEV, 0, 0)//D16F0
#define CHX002_D16F1UHCI ASIA_PCI_ADDRESS(0, CHX002_UHCI1_DEV, 1, 0)//D16F1
#define CHX002_D16F7EHCI ASIA_PCI_ADDRESS(0, CHX002_EHCI1_DEV, 7, 0)//D16F7
#define CHX002_XHCI ASIA_PCI_ADDRESS(0, CHX002_XHCI_DEV, 0, 0)//D18F0
#ifdef ZX_DUALSOCKET
#define CHX002_D14F0UHCI_SLAVE ASIA_PCI_ADDRESS(SLAVE_SK_BUS_NUM, CHX002_UHCI0_DEV, 0, 0)//D14F0
#define CHX002_D14F7EHCI_SLAVE ASIA_PCI_ADDRESS(SLAVE_SK_BUS_NUM, CHX002_EHCI0_DEV, 7, 0)//D14F7
#define CHX002_D16F0UHCI_SLAVE ASIA_PCI_ADDRESS(SLAVE_SK_BUS_NUM, CHX002_UHCI1_DEV, 0, 0)//D16F0
#define CHX002_D16F1UHCI_SLAVE ASIA_PCI_ADDRESS(SLAVE_SK_BUS_NUM, CHX002_UHCI1_DEV, 1, 0)//D16F1
#define CHX002_D16F7EHCI_SLAVE ASIA_PCI_ADDRESS(SLAVE_SK_BUS_NUM, CHX002_EHCI1_DEV, 7, 0)//D16F7
#define CHX002_XHCI_SLAVE ASIA_PCI_ADDRESS(SLAVE_SK_BUS_NUM, CHX002_XHCI_DEV, 0, 0)//D18F0
#endif

// Some Legacy definations
#define SB_BUS 0
#define SB_DEV 17
#define SB_FUN 0
#define SB_VID 0x1106
#define SB_DID 0x1001///MTN_20160323
//MIKE_CND001_S
#define LPC_FUNCTION_CONTROL1           0x50
#define LPC_SATA_EIDE_EN                BIT0
//MIKE_CND001_E
#define SB_HPET_DID 0x8201

// Misc. I/O Register
#define KBC_CMDSTS_PORT 0x64
#define KBC_DATA_PORT	0x60
#define KBC_OBF 0x01
#define KBC_IBF 0x02	

#define Misc_Func_SP_Ctl 0x61
#define B_IOCHK_NMI_EN 0x08
#define B_SERR_EN 0x04

#define R_NMI_EN 0x70
#define B_NMI_EN_NMI_EN BIT7

#define CMOS_INDEX 0x70
#define CMOS_DATA 0x71

#define NB_REVISION_A0 0x00
#define NB_REVISION_A1 0x00
#define NB_REVISION_A2 0x01
#define NB_REVISION_LARGEST 0xFF

#define SB_REVISION_A0 0x00
#define SB_REVISION_A1 0x00
#define SB_REVISION_A2 0x02
#define SB_REVISION_LARGEST 0xFF

#define PCI_VID_VIA  0x1106
#define PCI_VID_ZX   0x1D17

//JennyChen add for Chx002 80 port----PCEI PEI Phase
#define PEI_PCIE_INIT			    0x12 		  // PeiNbPreMemoryInit()  in NbInit.c  
#define PEI_PCIE_RELEASE_LTSSM		0x13 		  // PeiNbPcieInit()  in NbPcie.c   -chrisjwang 20180822
#define PEI_PCIE_IOE_INIT			0x14 		  // PeiNbPcieInit()  in NbPcie.c	   -chrisjwang 20180822
#define PEI_PCIE_BEFORE_CHANGE_MAX_SPEED	0x1A  		  // PeiNbPcieInit()  in NbPcie.c    -chrisjwang 20180822
#define PEI_PCIE_END			    0x1B 		  // PeiNbPcieInit()  in NbPcie.c    -chrisjwang 20180822


//JennyChen add for Chx002 80 port----PCEI DXE Phase


#define PCIE_EaryDXE_PEMCU_FW_LOAD  0x6B           //PlatformEarlyDxeEntry () PlatformEarlyDxe.c 
#define DXE_NB_PCIE_PRE_INIT        0x6C           //AsiaNbDxePrePciInit() in AsiaNbDxeInit.c
#define DXE_NB_PCIE_D3D5F1_SPE      0x6D           //AsiaNbDxePrePciInit() in AsiaNbDxeInit.c
#define DXE_NB_PCIE_RCRB_SPE        0x6E           //AsiaNbDxePrePciInit() in AsiaNbDxeInit.c
#define DXE_NB_PCIE_EPHY_SPE        0x6F           //AsiaNbDxePrePciInit() in AsiaNbDxeInit.c
#define DXE_NB_IOE_PRE_INIT         0x71           //AsiaNbDxePrePciInit() in AsiaNbDxeInit.c
#define DXE_NB_PCIE_AGGRESSIVE_PM   0x72           //AsiaNbDxePrePciInit() in AsiaNbDxeInit.c
#define DXE_NB_PCIE_POWER_CTL       0x73           //AsiaNbDxePrePciInit() in AsiaNbDxeInit.c
//#define DXE_NB_PCIE_POST_INIT       0x73           //AsiaNbDxePostPciInit() in AsiaNbDxeInit.c
//#define DXE_NB_PRE_BOOT_INIT        0x74           //AsiaNbDxePrePostInit() in AsiaNbDxeInit.c
//add by jenny for 80 port----PCEI S3 Phase	 0x38 - 0x3F
//#define PEI_POST_MEMORY_INIT 		0x33		   //PeiNbPostMemoryInit()	in NbInit.c 
#define PEI_SB_POST_MEMORY_S3 		0x38		   //peiSbPostMemoryInitS3() in SbInit.c
#define PEI_NB_POST_MEMORY_S3 		0x39		   //peiNbPostMemoryInitS3() in NbInit.c



